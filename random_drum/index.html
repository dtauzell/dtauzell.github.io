<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Random Drum Machine</title>
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Tone.js CDN with crossorigin attribute to prevent script errors -->
    <script src="https://unpkg.com/tone@14.7.58/build/Tone.js" crossorigin="anonymous"></script>
    <!-- Inter Font -->
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Slate-900 */
            color: #e2e8f0; /* Slate-200 */
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 16px;
            height: 16px;
            background: #a78bfa;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 0 2px rgba(0, 0, 0, 0.3);
        }
        /* CSS for the flashing effect */
        .flash {
            color: #a78bfa; /* Violet-400 */
            text-shadow: 0 0 8px rgba(167, 139, 250, 0.7);
            transition: color 0.1s ease, text-shadow 0.1s ease;
        }
    </style>
</head>
<body class="p-8 md:p-16 flex flex-col items-center min-h-screen">

    <!-- Main Container -->
    <div class="bg-slate-800 p-8 md:p-12 rounded-xl shadow-lg w-full max-w-2xl">
        <h1 class="text-3xl font-bold text-center mb-8 text-violet-400">Random Drum Machine</h1>

        <!-- Controls Section -->
        <div class="flex flex-col md:flex-row items-center justify-between gap-4 mb-8">
            <button id="generateBtn" class="bg-violet-700 hover:bg-violet-600 text-white font-bold py-2 px-6 rounded-lg shadow transition-colors">
                Generate New Pattern
            </button>
            <div class="flex items-center gap-4">
                <button id="playPauseBtn" class="bg-green-600 hover:bg-green-500 text-white font-bold py-2 px-6 rounded-lg shadow transition-colors">
                    Play
                </button>
                <div class="flex flex-col items-center">
                    <label for="tempoSlider" class="text-sm">Tempo</label>
                    <input type="range" id="tempoSlider" min="40" max="200" value="120" class="w-32 md:w-40">
                    <span id="tempoDisplay" class="text-xs text-slate-400">120 BPM</span>
                </div>
                <!-- New Measures Display -->
                <div class="flex flex-col items-center">
                    <label class="text-sm">Measures</label>
                    <span id="measuresDisplay" class="text-xs text-slate-400"></span>
                </div>
            </div>
        </div>

        <!-- Volume Sliders -->
        <div class="flex flex-col md:flex-row gap-8 justify-center">
            <div class="flex flex-col gap-4 w-full md:w-1/2">
                <div class="flex flex-col items-center">
                    <label id="kickLabel" for="kickVol" class="text-sm">Kick</label>
                    <input type="range" id="kickVol" min="-30" max="0" value="-6" class="w-full">
                </div>
                <div class="flex flex-col items-center">
                    <label id="snareLabel" for="snareVol" class="text-sm">Snare</label>
                    <input type="range" id="snareVol" min="-30" max="0" value="-6" class="w-full">
                </div>
            </div>
            <div class="flex flex-col gap-4 w-full md:w-1/2">
                <div class="flex flex-col items-center">
                    <label id="hihatLabel" for="hihatVol" class="text-sm">Hi-Hat</label>
                    <input type="range" id="hihatVol" min="-30" max="0" value="-8" class="w-full">
                </div>
                <div class="flex flex-col items-center">
                    <label id="tomsLabel" for="tomsVol" class="text-sm">Toms</label>
                    <input type="range" id="tomsVol" min="-30" max="0" value="-10" class="w-full">
                </div>
            </div>
        </div>
    </div>

    <!-- JavaScript Modules -->
    <script src="js/AudioManager.js"></script>
    <script src="js/DrumMachine.js"></script>
    <script src="js/PatternGenerator.js"></script>
    <script src="js/UIController.js"></script>
    <script src="js/RandomDrumApp.js"></script>
</body>
</html>

